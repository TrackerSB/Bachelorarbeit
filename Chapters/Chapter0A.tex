%********************************************************************
% Appendix
%*******************************************************
% If problems with the headers: get headings in appendix etc. right
%\markboth{\spacedlowsmallcaps{Appendix}}{\spacedlowsmallcaps{Appendix}}
\chapter{Appendix}
This chapter contains mainly lots of the source code and complete tables of data referenced within the study.
The main purpose is for getting an even more detailed impression of the used or generated files and for being able accurate reproducing the results of the study.
%\graffito{More dummy text.}

\section{Code Listings}
\subsection{Matmul.cpp Code Listings}
The following listings contain the (generated) code of the example matrix multiplication which is often used throughout the background chapters.
\begin{code}
    \caption{LLVM-IR of \autoref{lst:matmulcpp}}
    \inputminted[fontsize=\tiny]{LLVM}{ll/matmul.ll}
    \label{lst:matmulll}
\end{code}
\begin{code}
    \caption{LLVM-IR (O3 optimized) of \autoref{lst:matmulcpp}}
    \inputminted[fontsize=\tiny]{LLVM}{ll/matmulO3.ll}
    \label{lst:matmulllO3}
\end{code}
\begin{code}
    \caption{LLVM-IR of \autoref{lst:matmulcpp} prepared for Polly}
    \inputminted[fontsize=\tiny]{LLVM}{ll/matmul.preopt.ll}
    \label{lst:matmulpreoptll}
\end{code}
\subsection{Examples for invalid SCoPs}
These peaces of code illustrate simple situations where \scops are invalid.
\begin{code}
    \caption{Parent is top level}
    \inputminted{c++}{cpp/ParentIsTopLevelRegion.cpp}
    \label{lst:parentIsToplevel}
\end{code}
\begin{code}
    \caption{Unreachable in exit block}
    \inputminted{c++}{cpp/UnreachableInExitBlock.cpp}
    \label{lst:unreachableExitBlock}
\end{code}
\begin{code}
    \caption{Irreducible regions}
    \inputminted{c++}{cpp/IrreducibleRegion.cpp}
    \label{lst:irreducibleLoops}
\end{code}
\begin{code}
    \caption{Variant base pointer}
    \inputminted{c++}{cpp/VariantBasePointer.cpp}
    \label{lst:variantBasePointer}
\end{code}
\begin{code}
    \caption{Non-affine memory accesses}
    \inputminted{c++}{cpp/NonAffineMemoryAccesses.cpp}
    \label{lst:nonAffineMemoryAccesses}
\end{code}
\begin{code}
    \caption{Uncomputable loop bounds}
    \inputminted{c++}{cpp/UncomputableLoopBounds.cpp}
    \label{lst:uncomputeableLoopBounds}
\end{code}
\begin{code}
    \caption{Loop without exit}
    \inputminted{c++}{cpp/LoopWithoutExit.cpp}
    \label{lst:loopWithoutExit}
\end{code}
\begin{code}
    \caption{Function call with side effects}
    \inputminted{c++}{cpp/FunctionCall.cpp}
    \label{lst:functionCallSideEffects}
\end{code}
\begin{code}
    \caption{Base address aliasing}
    \inputminted{c++}{cpp/BaseAddressAliasing.cpp}
    \label{lst:baseAddressAliasing}
\end{code}
\begin{code}
    \caption{Integer to pointer conversion}
    \inputminted{c++}{cpp/IntegerToPointerConversion.cpp}
    \label{lst:integerToPointer}
\end{code}
\begin{code}
    \caption{Assumed to be unprofitable}
    \inputminted{c++}{cpp/AssumedToBeUnprofitable.cpp}
    \label{lst:assumedUnprofitable}
\end{code}
\subsection{Other Code Listings}
\begin{code}
    \caption[Program for checking overhead]{The program used for checking the overhead of the measurement itself}
    \inputminted{c++}{cpp/checkMeasurementOverhead.cpp}
    \label{lst:checkOverhead}
\end{code}
\begin{code}
    \caption[Script for plots and statistic]{This R script contains all commands for filtering the data, generating the plots and calculating statistical values and p values.}
    \inputminted[fontsize=\tiny]{R}{r/generatePlotsAndTables.R}
    \label{lst:rscript}
\end{code}

\section{Specifications of machine used for measurements}
\begin{code}
    \captionsetup{type=table}
    \inputminted{text}{gfx/zeusLscpu.log}
    \caption[Specifications of the CPUs used for measurement]{
        Specifications of the CPUs used for measurement.
        More precisely it is simply the output of \texttt{lscpu}.
    }
    \label{tab:lscpu}
\end{code}
\begin{code}
    \captionsetup{type=table}
    \inputminted{text}{gfx/zeusMeminfo.log}
    \caption[Specifications of the memory of the machine used for measurement]{
        Specifications of the memory of the machine used for measurement.
        More precisely this is the output of \texttt{cat /proc/meminfo}.
    }
    \label{tab:meminfo}
\end{code}

\section{Data Tables}\label{sec:dataTables}
Here is the hole data (unfiltered) listed collected throughout the entire study.
\begin{scriptsize}
    \LTXtable{\textwidth}{tables/ratiosScops.tex}
    \LTXtable{\textwidth}{tables/ratiosMaxRegions.tex}
\end{scriptsize}
\begin{table}[!h]
    \myfloatalign
    \begin{tabularx}{\textwidth}{Xc}
        \tableheadline{project} & \tableheadline{occurrence}\\\toprule
        \csvreader[head to column names]{csv/report_invalidReasons.csv}{}{\csvcoli&\csvcolii\\}
        \\\bottomrule
    \end{tabularx}
    \caption[Data of reasons for rejection]{The complete list of reasons for rejecting regions as valid \scops grouped by type of the rejection reason.}
    \label{tab:rejectionReasons}
\end{table}
